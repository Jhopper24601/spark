<!DOCTYPE html>
<html>
<head>
	<title>El Casa Poder 2000</title>
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="./freddy.png" />
	<script src="jquery-2.1.4.min.js"></script>
	<script src="spectrum.js" type="text/javascript"></script>
	<link rel="stylesheet" href="spectrum.css" type="text/css"/>
	<meta name="viewport" content="width=250" />
	<script>
    $( document ).ready(function() {
        $('#spinner').hide();
    });
 
    $( window ).load(function() {
    });
    </script>
	<style>
		body 
		{
			background-color: grey;
			max-width: 220px;
			margin: 0 auto;
			float: none;
		}
		img.centered
		{
			display: block;
		    margin-left: auto;
		    margin-right: auto
		}
    </style>
</head>
<body>
	<br/>
	<div id="header" style="border:0px solid black; padding:5px; margin:5px">
	<a href="/"><img class="centered" src="freddy.png"/></a>
	<h3 style="text-align:center">El Freddy Poder 2000</h3>

	</div>
	<div id="rootDiv" style="border:1px solid black; padding:5px; margin:5px">

		Program:
		<select id="program" name="program">
			<option value="stop">Stop</option>
			<option value="alloff">All Off</option>
			<option value="hearteyes">Heart Eyes</option>
			<option value="spiraleyes">Spiral Eyes</option>
			<option value="sparkleeyes">Sparkle Eyes</option>
			<option value="statichearteyes">Heart Eyes - animation</option>
			<option value="rainboweyes">Rainbow Eyes</option>
			<option value="wakeupeyes">Wake Up!</option>
			<option value="gloweyes">Glow Eyes</option>
			<option value="random">Random</option>
			<option value="firesparkle">FIRE - Sparkle</option>
			<option value="fireheart">FIRE - Heart</option>
			<option value="firespiral">FIRE - Spiral</option>
		</select>

		<br/>
		<button id="fireButton">Fire!</button>
		<button id="goButton">On</button>
		<button id="stopButton">Off</button>
		<br/>

		<div id="status"></div>
		<div id="result"></div>
		<img style="width:30px;" id="spinner" width="100" src="spinner.gif">
	</div>

	<script>
		var paramState = null;

		var goButton = document.querySelector("#goButton");
		var fireButton = document.querySelector("#fireButton");
		var stopButton = document.querySelector("#stopButton");
		var select = document.querySelector("select");

		var runQuery = function(verb) {
	    	$('#spinner').show();
	    	$('#status').html("");
	    	$('#result').html("");
		    $.get("/freddy/run/action?action=" + verb, 
		    	function(data) {
				      $('#status').html("<h3>Request Complete.  Spark said:</h3>");
					  $('#result').html( data );
					  $('#spinner').hide();
			});
	    };

		stopButton.addEventListener("click", function(ev) {
			console.log("off");
			runQuery("alloff");
		}, false);

	    goButton.addEventListener("click", function(ev) {
	    	console.log("on");
	    	runQuery($('#program').val());
	    }, false);

	    fireButton.addEventListener("click", function(ev) {
	    	runQuery("firesparkle");
	    }, false);
	</script>

</body>
</html>
